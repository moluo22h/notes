# 自定义用户认证逻辑

一、处理用户信息获取逻辑（UserDetailsService接口中）
 1. 新建MyUserDetailsService类，实现UserDetailsService接口
 2. 使用@Component注解装饰MyUserDetailsService类
 3. 实现loadUserByUsername(String username)方法
```java
@Override
public UserDetails loadUserByUsername(String username) throws UsernameNotFoundException {
	logger.info("用户名：" + username);
	return new User(username, "123456",AuthorityUtils.commaSeparatedStringToAuthorityList("admin"));
}
```
> User构造方法中：username和password用于认证，authorities用于授权

二、处理用户校验逻辑(通过实现UserDetails接口自定义用户校验逻辑)
UserDetails接口解析
getAuthorities()；//获取认证
getUsername()；//获取用户名
getPassword()；//获取密码
isAccountNonExpired();//账号是否过期
isCredentialsNonExpired（）；//密码是否过期
isAccoutNonLocked();//账号是否被冻结
isEnabled;//用户是否可用，是否被删除

三、处理密码加密解码（通过实现PasswordEncoder接口自定义加密解密）
1. 在SecurityConfig类中加入

   ```java
   @Bean
   public  PasswordEncoder passwordEncoder(){
       return new BCryptPasswordEncoder();
   }
   ```

   > 注册时使用passwordEncoder.encode()方法对密码进行加密。