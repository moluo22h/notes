# 享元模式

## 应用场景

内存OutOfMemory，引起原因是一个类存在多个对象，多个对象所占用内存加起来总和太大，超过宿主机的内存提供机限。

针对上面的场景，我们暂且不谈论享元模式，先想一想，若是你遇到上面的问题，如何从代码层面来降低内存占用？

路人甲说：对象与对象之间有相同的部分，这些相同的部分没必要每个对象都生成一遍，把部分重复内容的内存省下来，可以降低内存

路人已说：对象可不可以复？若可以复用的话，那就不需要创建这么多对象，可以省下内存

## 介绍

后期补充

## 用途

减少对象的数量

常用于系统底层的开发，以便解决系统的性能问题

## 核心逻辑

```java
new一个集合

if（集合中不存在对象）{
    new 一个对象
    将对象塞到集合中
    返回对象
}else{
    返回对象
}
```

## 缺陷

线程安全问题

1. 容器为HashMap，多个线程生成对象并放入容器中时，可能出现重复放置对象问题
2. 对象公用，多个线程取到同一个对象后做修改操作回相互影响
3. 容器中对象设计不合理，可能出现线程问题（后期再详细说明）

