# 数据治理

## 背景 

### 数据所面临的问题

相比传统数仓大数据时代数据更加多样、更加复杂、数据量更大

随处可见的数据不统一、难以提升的数据质量、难以完成的数据模型梳理

多种采集工具、多种存储方式使数据仓库or数据湖变成数据沼泽

### 数据治理解决的问题

数据不可知：用户不知道有哪些数据、不知道数据和业务的关系

数据不可控：没有统一的数据标准，数据无法集成和统一

数据不可取：用户不能便捷的取到数据，或者取到的数据不可用

数据不可联：数据之间的关系没有体现出来，数据深层价值无法体现

### 数据治理目标

建立统一数据标准与数据规范，保障数据质量

制定数据管理流程，把控数据整个生命周期

形成平台化工具，提供给用户使用

## 数据治理

数据治理包括元数据管理、数据质量管理、数据血缘管理等

数据治理在数据采集、数据清洗、数据计算等各个环节

数据治理难得不是技术，而是流程、协同和管理

### 元数据管理

- 数据的库表结构等schema信息

- 数据存储空间、读写记录、权限归属及其他各类统计信息

### 数据血缘管理

数据之间的血缘关系及生命周期

数据的业务属性信息和业务数据模型

## 数据治理步骤

统一数据规范和数据定义，打通业务模型和技术模型

提升数据质量，实现数据全生命周期管理

挖掘数据价值，帮助业务人员便捷灵活的使用数据

## 数据治理与周边系统

ODS、DWD、DM等各层次元数据纳入数据治理平台集中管理

数据采集及处理流程中产生的元数据纳入数据治理平台，并建立血缘关系

提供数据管理的服务接口，数据模型变更及时通知上下游

## 数据治理工具

Apache Atlas: Hortonworks主推的数据治理开源项目

Navigator: Cloudera提供的数据管理的解决方案

WhereHows: LinkedIn内部使用并开源的数据管理解决方案



### Apache Atlas

#### atlas支持的组件

![image-20240718101408666](D:\user\person\notes\编程学习\大数据\大数据平台\assets\image-20240718101408666.png)

#### Atlas的功能

数据分类：自动捕获、定义和注释元数据，对数据进行业务导向分类

集中审计：捕获所有步骤、应用及数据交互的访问信息

搜索与血缘：基于分类和审计关联数据与数据的关系，并通过可视化的方式展现

#### Atlas的架构

![image-20240718101542204](D:\user\person\notes\编程学习\大数据\大数据平台\assets\image-20240718101542204.png)

#### Atlas的核心模块

Type System：对需要管理的元数据对象抽象的实体，由类型构成

Ingest/Export：元数据的自动采集和导出工具，Export可以作为事件进行触发，使用户可以及时响应

Graph Engine：通过图数据库和图计算引擎展现数据之间的关系



#### Atlas的元数据捕获原理

Hook：来自各个组件的Hook自动捕获数据进行存储

Entity：集成的各个系统在操作时触发事件进行写入

获取元数据的同时，获取数据之间的关联关系，构建血缘