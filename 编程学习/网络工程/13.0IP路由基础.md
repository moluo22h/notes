物理层

Hub



数据链路层

以太网交换机

用于网路内进行数据转发



网络层

路由器

连接不同的网络，实现网路之间的数据转发



## 路由器的基本工作原理

自治系统：AS由同一个管理机构

LAN和广播域





IGP RIP OSPF rsis

EGP



## 路由器选择最优路由的方法

路由表格式：

Destination/Mask Proto Pre Cost Flags NextHop Interface 

目标地址/掩码	协议 协议优先级 花费值 下一跳 路径口



优先级值越低越优先选择，协议优先值如下：

direct 0

ospf 10

isis 15

static 60

RIP	100

bgp 255





cost值越小越优先（cost值计算公式：10^8/100x10^6bps）





路由来源

Direct	直连路由	本接口已经启动

Static	静态路由	管理员手动添加

OSPF	动态路由	路由邻居之间相互告知	





最长匹配原则



路由转发数据包





